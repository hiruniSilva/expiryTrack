let express,models;_bcf‍.x([["default",()=>_bcf‍.o]]);_bcf‍.w("express",[["default",["express"],function(v){express=v}]]);_bcf‍.w("../models",[["default",["models"],function(v){models=v}]]);


const router = express.Router();

router.get("/getItems", async (req, res) => {
  try {
    const items = await models.Item.findAll();
    res.status(201).json(items);
  } catch (error) {
    res.status(400).send(error.message);
  }
});

router.post("/addItems", async (req, res) => {
  try {
    const { itemName, expiryDate } = req.body;
    const isValid = models.Item.validateItemData({
      itemName,
      expiryDate
    });
    if(!isValid) throw new Error("Invalid Data. Please try again !!!");
    const addItem = await models.Item.create({
      itemName : itemName,
      expiryDate: expiryDate
    })
    _bcf‍.g.console.log("ITEM NAME: "+itemName)
    res.status(201).json(addItem);
  } catch (error) {
    res.status(400).send(error.message);
  }
});

_bcf‍.d(router);
